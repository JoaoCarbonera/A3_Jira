generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model assignee {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  userId    Int
  issueId   Int
  projectId Int
}

model comment {
  id        Int      @id @default(autoincrement())
  descr     String   @db.VarChar(200)
  createdAt DateTime @default(now())
  issueId   Int
  userId    Int
}

model issue {
  id         Int      @id @default(autoincrement())
  order      Int
  priority   Int
  type       Int
  summary    String   @db.VarChar(100)
  descr      String?  @db.VarChar(500)
  createdAt  DateTime @default(now())
  updatedAt  DateTime
  listId     Int
  reporterId Int
}

model list {
  id        Int      @id @default(autoincrement())
  name      String   @default("unnamed list")
  order     Int
  createdAt DateTime @default(now())
  updatedAt DateTime
  projectId Int
}

model member {
  id        Int      @id @default(autoincrement())
  isAdmin   Boolean  @default(false)
  createdAt DateTime @default(now())
  projectId Int
  userId    Int
}

model project {
  id        Int      @id @default(autoincrement())
  name      String   @db.VarChar(50)
  descr     String?  @db.VarChar(200)
  repo      String?
  createdAt DateTime @default(now())
  updatedAt DateTime
  userId    Int
}

model user {
  id           Int      @id @default(autoincrement())
  email        String
  username     String
  pwd          String
  profileUrl   String   @default("")
  lastLoggedIn DateTime @default(now())
  createdAt    DateTime @default(now())
  updatedAt    DateTime
}
